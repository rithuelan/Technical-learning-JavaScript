<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Prototype Project</title>
</head>
<body>
  <h2>üöó Car Showroom Management (Prototype in JavaScript)</h2>
  <div id="output"></div>

  <script>
    const output = document.getElementById("output");

    // 1Ô∏è‚É£ Constructor Function
    function Car(brand, model, price) {
      this.brand = brand;
      this.model = model;
      this.price = price;
    }

    // 2Ô∏è‚É£ Adding methods using Prototype (shared for all objects)
    Car.prototype.getDetails = function() {
      return `${this.brand} ${this.model} costs ‚Çπ${this.price}`;
    };

    // 3Ô∏è‚É£ Adding another shared property to prototype
    Car.prototype.type = "4 Wheeler";

    // 4Ô∏è‚É£ Create objects using the constructor
    const car1 = new Car("Tata", "Nexon", 1200000);
    const car2 = new Car("Hyundai", "Creta", 1800000);

    // 5Ô∏è‚É£ Accessing prototype property & method
    output.innerHTML += `<p>${car1.getDetails()}</p>`;
    output.innerHTML += `<p>${car2.getDetails()}</p>`;
    output.innerHTML += `<p>${car1.brand} is a ${car1.type}</p>`;

    // 6Ô∏è‚É£ Overriding prototype property for specific object
    car2.type = "SUV"; 
    output.innerHTML += `<p>${car2.brand} is a ${car2.type}</p>`;

    // 7Ô∏è‚É£ Prototype Chain (Car -> Object)
    output.innerHTML += `<hr><h3>üîó Prototype Chain</h3>`;
    output.innerHTML += `<p>car1.__proto__ === Car.prototype ‚Üí ${car1.__proto__ === Car.prototype}</p>`;
    output.innerHTML += `<p>Car.prototype.__proto__ === Object.prototype ‚Üí ${Car.prototype.__proto__ === Object.prototype}</p>`;

    // 8Ô∏è‚É£ Extending Prototype Later
    Car.prototype.discount = function(percent) {
      const discounted = this.price - (this.price * percent / 100);
      return `After ${percent}% discount, ${this.brand} ${this.model} costs ‚Çπ${discounted}`;
    };

    output.innerHTML += `<hr><p>${car1.discount(10)}</p>`;
    output.innerHTML += `<p>${car2.discount(15)}</p>`;

    // 9Ô∏è‚É£ Creating another object using Object.create()
    const car3 = Object.create(car1);
    car3.brand = "Maruti";
    car3.model = "Swift";
    car3.price = 900000;
    output.innerHTML += `<hr><p>${car3.getDetails()}</p>`;
    output.innerHTML += `<p>${car3.discount(5)}</p>`;

    // üîü Showing Prototype Reference
    output.innerHTML += `<hr><h3>üß† Prototype References</h3>`;
    output.innerHTML += `<p>car1.__proto__ ‚Üí ${JSON.stringify(Object.keys(car1.__proto__))}</p>`;
    output.innerHTML += `<p>car3.__proto__ points to car1 ‚Üí ${car3.__proto__ === car1}</p>`;
  </script>
</body>
</html>
