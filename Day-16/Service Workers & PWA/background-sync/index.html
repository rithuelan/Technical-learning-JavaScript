<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Background Sync Demo</title>
</head>
<body>
<h1>Background Sync Example</h1>
<button id="sendBtn">Send Data</button>

<script>
if ('serviceWorker' in navigator && 'SyncManager' in window) {
  navigator.serviceWorker.register('sw.js')
    .then(reg => console.log('Service Worker registered', reg))
    .catch(err => console.error(err));
}

document.getElementById('sendBtn').addEventListener('click', async () => {
  const reg = await navigator.serviceWorker.ready;
  await reg.sync.register('sync-data');
  console.log('Background sync registered');
});
</script>
</body>
</html>
